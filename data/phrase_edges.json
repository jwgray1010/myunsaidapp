{
  "version": "1.4",
  "notes": "Advanced phrase_edges for Unsaid web: unicode apostrophes, safe flags, timeouts, dedupe, per-category caps/cooldowns, and smarter exceptions.",
  "globals": {
    "regexFlags": "iu",
    "maxInputChars": 2000,
    "timeoutMs": 12,
    "dedupeWindowMs": 500,
    "matchLimitPerMessage": 6,
    "apostropheClass": "['’]",
    "normalize": ["NFC", "trim", "squashSpaces"]
  },
  "priorityOrder": [
    "rupture","escalation","boundary","shutdown","absolutizing",
    "repair_initiator","reconnection","logistics_pivot","tentative_disclosure"
  ],
  "cooldownsMsByCategory": {
    "rupture": 15000,
    "escalation": 12000,
    "shutdown": 10000,
    "boundary": 8000,
    "absolutizing": 8000,
    "repair_initiator": 6000,
    "reconnection": 6000,
    "logistics_pivot": 4000,
    "tentative_disclosure": 4000
  },
  "caps": {
    "maxAppliedPerMessage": 2,
    "categoryCap": { "escalation": 2, "rupture": 1 }
  },
  "interaction": {
    "negationPenalty": 0.02,
    "sarcasmPenalty": 0.03,
    "positionBoost": { "start": 0.02, "end": 0.01, "allCaps": 0.03, "repeat": 0.03 }
  },
  "edges": [
    { "pattern": "\\bi[aA]\\?m done( with (this|you))?\\b", "boost": 0.32, "category": "rupture", "toneBias": { "alert": 0.1 }, "contextHint": ["conflict","boundary"], "exceptions": ["done for today"], "exceptPattern": "(?!(?:.*done for today))", "notes": "High rupture; gate de-escalation" },
    { "pattern": "\\bi(?:['’])?m done( with (this|you))?\\b", "boost": 0.32, "category": "rupture", "toneBias": { "alert": 0.1 }, "contextHint": ["conflict","boundary"], "exceptions": ["done for today"], "exceptPattern": "(?!(?:.*done for today))" },

    { "pattern": "\\bforget it\\b(?!\\s*(?:for now|please))", "boost": 0.30, "category": "rupture", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthis is pointless\\b", "boost": 0.28, "category": "rupture", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\b(end of|that(?:['’])?s the) (conversation|discussion)\\b", "boost": 0.28, "category": "rupture", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict","boundary"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m out(?: of this)?\\b", "boost": 0.27, "category": "rupture", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bwe(?:['’])?re (over|done)\\b", "boost": 0.32, "category": "rupture", "toneBias": { "alert": 0.1 }, "contextHint": ["conflict","breakup"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthere(?:['’])?s nothing left to say\\b", "boost": 0.29, "category": "rupture", "toneBias": { "alert": 0.07 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m walking away\\b", "boost": 0.28, "category": "rupture", "toneBias": { "alert": 0.07 }, "contextHint": ["conflict","boundary"], "exceptions": [], "notes": "" },
    { "pattern": "\\b(?:stop|quit) texting me\\b", "boost": 0.30, "category": "rupture", "toneBias": { "alert": 0.09 }, "contextHint": ["boundary"], "exceptions": [], "notes": "" },
    { "pattern": "\\bdon(?:['’])?t contact me(?: again)?\\b", "boost": 0.31, "category": "rupture", "toneBias": { "alert": 0.1 }, "contextHint": ["boundary"], "exceptions": [], "notes": "" },

    { "pattern": "\\bwhatever\\b(?!\\s+you\\s+need)", "boost": 0.25, "category": "shutdown", "toneBias": { "alert": 0.06 }, "contextHint": ["conflict","withdrawal"], "exceptions": ["whatever you need (supportive)"], "notes": "" },
    { "pattern": "\\bi don(?:['’])?t care\\b", "boost": 0.26, "category": "shutdown", "toneBias": { "alert": 0.06 }, "contextHint": ["withdrawal"], "exceptions": [], "notes": "" },
    { "pattern": "\\bdo what you want\\b", "boost": 0.27, "category": "shutdown", "toneBias": { "alert": 0.06 }, "contextHint": ["withdrawal","conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bfine\\.?\\s*(?:whatever)?\\b", "boost": 0.23, "category": "shutdown", "toneBias": { "alert": 0.05 }, "contextHint": ["withdrawal"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m tired of this\\b", "boost": 0.24, "category": "shutdown", "toneBias": { "alert": 0.05 }, "contextHint": ["conflict","fatigue"], "exceptions": [], "notes": "" },
    { "pattern": "\\bbelieve what you want\\b", "boost": 0.26, "category": "shutdown", "toneBias": { "alert": 0.05 }, "contextHint": ["withdrawal"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthink whatever you want\\b", "boost": 0.25, "category": "shutdown", "toneBias": { "alert": 0.05 }, "contextHint": ["withdrawal"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?ll drop it\\b", "boost": 0.20, "category": "shutdown", "toneBias": { "caution": 0.03 }, "contextHint": ["withdrawal","repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bforget(?: about)? it\\b", "boost": 0.24, "category": "shutdown", "toneBias": { "alert": 0.05 }, "contextHint": ["withdrawal"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m over it\\b", "boost": 0.22, "category": "shutdown", "toneBias": { "alert": 0.04 }, "contextHint": ["withdrawal"], "exceptions": [], "notes": "" },

    { "pattern": "\\balways\\b(?!\\s*welcome)", "boost": 0.20, "category": "absolutizing", "toneBias": { "alert": 0.04 }, "contextHint": ["conflict"], "exceptions": ["always welcome"], "notes": "" },
    { "pattern": "\\bnever\\b(?!\\s*mind)", "boost": 0.20, "category": "absolutizing", "toneBias": { "alert": 0.05 }, "contextHint": ["conflict"], "exceptions": ["never mind (different)"], "notes": "" },
    { "pattern": "\\bevery time\\b", "boost": 0.20, "category": "absolutizing", "toneBias": { "alert": 0.04 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bnothing ever\\b", "boost": 0.20, "category": "absolutizing", "toneBias": { "alert": 0.04 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\b(?:you|we) (?:always|never) (?:do|say|forget)\\b", "boost": 0.22, "category": "absolutizing", "toneBias": { "alert": 0.06 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\ball the time\\b(?!\\s*available)", "boost": 0.18, "category": "absolutizing", "toneBias": { "caution": 0.03 }, "contextHint": ["conflict"], "exceptions": ["available all the time"], "notes": "" },
    { "pattern": "\\b(?:you|this) (?:never works|always fails)\\b", "boost": 0.22, "category": "absolutizing", "toneBias": { "alert": 0.06 }, "contextHint": ["conflict","criticism"], "exceptions": [], "notes": "" },
    { "pattern": "\\bnothing changes\\b", "boost": 0.19, "category": "absolutizing", "toneBias": { "caution": 0.03 }, "contextHint": ["conflict","hopelessness"], "exceptions": [], "notes": "" },
    { "pattern": "\\bnobody listens\\b", "boost": 0.20, "category": "absolutizing", "toneBias": { "alert": 0.04 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bit(?:['’])?s (?:always|never) the same\\b", "boost": 0.20, "category": "absolutizing", "toneBias": { "caution": 0.03 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },

    { "pattern": "\\bthat(?:['’])?s not okay\\b", "boost": 0.26, "category": "boundary", "toneBias": { "clear": 0.06 }, "contextHint": ["boundary","conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bdon(?:['’])?t talk to me like that\\b", "boost": 0.30, "category": "boundary", "toneBias": { "alert": 0.06, "clear": 0.05 }, "contextHint": ["boundary","conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi need space\\b", "boost": 0.28, "category": "boundary", "toneBias": { "caution": 0.04 }, "contextHint": ["boundary","self_regulation"], "exceptions": [], "notes": "" },
    { "pattern": "\\bnot now\\b", "boost": 0.20, "category": "boundary", "toneBias": { "caution": 0.03 }, "contextHint": ["boundary","timing"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthis isn(?:['’])?t the time\\b", "boost": 0.22, "category": "boundary", "toneBias": { "clear": 0.05 }, "contextHint": ["boundary","timing"], "exceptions": [], "notes": "" },
    { "pattern": "\\b(?:back off|step back)\\b", "boost": 0.27, "category": "boundary", "toneBias": { "alert": 0.06 }, "contextHint": ["boundary"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthat crosses a line\\b", "boost": 0.26, "category": "boundary", "toneBias": { "clear": 0.06 }, "contextHint": ["boundary"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi can(?:['’])?t talk about this right now\\b", "boost": 0.24, "category": "boundary", "toneBias": { "caution": 0.04 }, "contextHint": ["boundary","timing"], "exceptions": [], "notes": "" },
    { "pattern": "\\bplease stop\\b", "boost": 0.24, "category": "boundary", "toneBias": { "clear": 0.05 }, "contextHint": ["boundary"], "exceptions": [], "notes": "" },
    { "pattern": "\\bnot acceptable\\b", "boost": 0.23, "category": "boundary", "toneBias": { "clear": 0.05 }, "contextHint": ["boundary"], "exceptions": [], "notes": "" },

    { "pattern": "\\byou never listen\\b", "boost": 0.30, "category": "escalation", "toneBias": { "alert": 0.1 }, "contextHint": ["conflict","blame"], "exceptions": [], "notes": "" },
    { "pattern": "\\byou don(?:['’])?t care\\b", "boost": 0.30, "category": "escalation", "toneBias": { "alert": 0.09 }, "contextHint": ["conflict","blame"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthis is ridiculous\\b", "boost": 0.22, "category": "escalation", "toneBias": { "alert": 0.06 }, "contextHint": ["conflict"], "exceptions": [], "notes": "" },
    { "pattern": "\\byou always make it about you\\b", "boost": 0.30, "category": "escalation", "toneBias": { "alert": 0.09 }, "contextHint": ["conflict","blame"], "exceptions": [], "notes": "" },
    { "pattern": "\\byou(?:’|')?re impossible\\b", "boost": 0.28, "category": "escalation", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict","insult"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthis is your fault\\b", "boost": 0.29, "category": "escalation", "toneBias": { "alert": 0.09 }, "contextHint": ["conflict","blame"], "exceptions": [], "notes": "" },
    { "pattern": "\\byou always (?:forget|ruin|mess up)\\b", "boost": 0.28, "category": "escalation", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict","blame"], "exceptions": [], "notes": "" },
    { "pattern": "\\byou never (?:help|try|show up)\\b", "boost": 0.28, "category": "escalation", "toneBias": { "alert": 0.08 }, "contextHint": ["conflict","blame"], "exceptions": [], "notes": "" },
    { "pattern": "\\bhow dare you\\b", "boost": 0.30, "category": "escalation", "toneBias": { "alert": 0.1 }, "contextHint": ["conflict","moral_injury"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthis is unacceptable\\b", "boost": 0.26, "category": "escalation", "toneBias": { "clear": 0.06, "alert": 0.05 }, "contextHint": ["conflict","boundary"], "exceptions": [], "notes": "" },

    { "pattern": "\\bi didn(?:['’])?t mean that\\b", "boost": 0.24, "category": "repair_initiator", "toneBias": { "caution": 0.04 }, "contextHint": ["repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m sorry\\b", "boost": 0.26, "category": "repair_initiator", "toneBias": { "caution": 0.05 }, "contextHint": ["repair","apology"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi overreacted\\b", "boost": 0.24, "category": "repair_initiator", "toneBias": { "caution": 0.05 }, "contextHint": ["repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bthat came out wrong\\b", "boost": 0.22, "category": "repair_initiator", "toneBias": { "caution": 0.04 }, "contextHint": ["repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we start over\\b", "boost": 0.25, "category": "repair_initiator", "toneBias": { "caution": 0.05 }, "contextHint": ["repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi hear you\\b", "boost": 0.20, "category": "repair_initiator", "toneBias": { "clear": 0.04 }, "contextHint": ["repair","validation"], "exceptions": [], "notes": "" },
    { "pattern": "\\bhelp me understand\\b", "boost": 0.22, "category": "repair_initiator", "toneBias": { "caution": 0.05 }, "contextHint": ["repair","clarify"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi want to fix this\\b", "boost": 0.24, "category": "repair_initiator", "toneBias": { "caution": 0.05 }, "contextHint": ["repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi value this relationship\\b", "boost": 0.20, "category": "repair_initiator", "toneBias": { "clear": 0.05 }, "contextHint": ["repair","affirmation"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we find a way forward\\b", "boost": 0.22, "category": "repair_initiator", "toneBias": { "clear": 0.05 }, "contextHint": ["repair","problem_solving"], "exceptions": [], "notes": "" },

    { "pattern": "\\bi guess\\b", "boost": 0.16, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability"], "exceptions": ["I guess we can meet (logistics)"], "exceptPattern": "(?!\\s+we\\s+can\\s+meet)", "notes": "" },
    { "pattern": "\\bmaybe it(?:['’])?s just me\\b", "boost": 0.17, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability"], "exceptions": [], "notes": "" },
    { "pattern": "\\bto be honest\\b", "boost": 0.17, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability"], "exceptions": ["TBH slang okay"], "exceptPattern": "(?!\\s*\\(?tbh\\)?)", "notes": "" },
    { "pattern": "\\bit feels like\\b", "boost": 0.16, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability","interpretation"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi might be wrong\\b", "boost": 0.16, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability","clarify"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m trying to say\\b", "boost": 0.16, "category": "tentative_disclosure", "toneBias": { "clear": 0.03 }, "contextHint": ["clarify"], "exceptions": [], "notes": "" },
    { "pattern": "\\bit(?:['’])?s hard to say\\b", "boost": 0.16, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi don(?:['’])?t know how to put this\\b", "boost": 0.17, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability","clarify"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi want to be honest\\b", "boost": 0.17, "category": "tentative_disclosure", "toneBias": { "clear": 0.03 }, "contextHint": ["vulnerability"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:['’])?m nervous to say this\\b", "boost": 0.17, "category": "tentative_disclosure", "toneBias": { "caution": 0.03 }, "contextHint": ["vulnerability"], "exceptions": [], "notes": "" },

    { "pattern": "\\bhey\\b", "boost": 0.12, "category": "reconnection", "toneBias": { "clear": 0.02 }, "contextHint": ["reconnection"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we talk\\b", "boost": 0.20, "category": "reconnection", "toneBias": { "caution": 0.04 }, "contextHint": ["reconnection","repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi miss you\\b", "boost": 0.25, "category": "reconnection", "toneBias": { "caution": 0.05 }, "contextHint": ["reconnection","affection"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi care about you\\b", "boost": 0.20, "category": "reconnection", "toneBias": { "clear": 0.04 }, "contextHint": ["reconnection","validation"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi appreciate you\\b", "boost": 0.19, "category": "reconnection", "toneBias": { "clear": 0.04 }, "contextHint": ["reconnection","gratitude"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi want us to be okay\\b", "boost": 0.22, "category": "reconnection", "toneBias": { "caution": 0.05 }, "contextHint": ["reconnection","repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:’|')?m here\\b", "boost": 0.16, "category": "reconnection", "toneBias": { "clear": 0.03 }, "contextHint": ["support"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we check in\\b", "boost": 0.18, "category": "reconnection", "toneBias": { "clear": 0.04 }, "contextHint": ["reconnection","planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi want to understand\\b", "boost": 0.20, "category": "reconnection", "toneBias": { "caution": 0.04 }, "contextHint": ["clarify","repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:’|')?m willing to listen\\b", "boost": 0.19, "category": "reconnection", "toneBias": { "clear": 0.04 }, "contextHint": ["repair","support"], "exceptions": [], "notes": "" },

    { "pattern": "\\bwhat time works for you\\b", "boost": 0.16, "category": "logistics_pivot", "toneBias": { "clear": 0.04 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we pick a time\\b", "boost": 0.16, "category": "logistics_pivot", "toneBias": { "clear": 0.04 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi can do (?:tomorrow|later|tonight|this (?:afternoon|evening|weekend))\\b", "boost": 0.16, "category": "logistics_pivot", "toneBias": { "clear": 0.04 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\b(?:let(?:’|')?s|lets) schedule\\b", "boost": 0.16, "category": "logistics_pivot", "toneBias": { "clear": 0.04 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we (?:pause|take a break) and talk at\\b", "boost": 0.18, "category": "logistics_pivot", "toneBias": { "caution": 0.04 }, "contextHint": ["planning","repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:’|')?ll text when i(?:’|')?m free\\b", "boost": 0.14, "category": "logistics_pivot", "toneBias": { "clear": 0.03 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bwhat works (?:best|better) for you\\b", "boost": 0.16, "category": "logistics_pivot", "toneBias": { "clear": 0.04 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we set a time to revisit this\\b", "boost": 0.18, "category": "logistics_pivot", "toneBias": { "caution": 0.04 }, "contextHint": ["planning","repair"], "exceptions": [], "notes": "" },
    { "pattern": "\\bi(?:’|')?ll follow up (?:tomorrow|later today)\\b", "boost": 0.15, "category": "logistics_pivot", "toneBias": { "clear": 0.03 }, "contextHint": ["planning"], "exceptions": [], "notes": "" },
    { "pattern": "\\bcan we take this after (?:work|dinner|the meeting)\\b", "boost": 0.16, "category": "logistics_pivot", "toneBias": { "clear": 0.03 }, "contextHint": ["planning","timing"], "exceptions": [], "notes": "" }
  ]
}