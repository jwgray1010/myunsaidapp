{
  "normalization": {
    "lower": true,
    "unicode_nfkc": true,
    "collapse_whitespace": true,
    "strip_punct_except_emojis": true
  },

  "sentenceSegmentation": {
    "primary": "spacy",
    "fallbackRegex": "(?<=[.!?])\\s+(?=[A-Z0-9\\\"“(])"
  },

  "formatCues": {
    "allCaps": { "alert": 0.06, "clear": -0.02 },
    "exclamationsPerSentence": { "alert": 0.02 }
  },

  "windowing": {
    "defaultWindowTokens": 24,
    "localNegationWindowTokens": 8,
    "localSarcasmWindowTokens": 8
  },

  "cohesion": {
    "windowTokens": 10,
    "clauseBoundaryPunct": [".","!","?",";","—","–"]
  },

  "negation": {
    "patterns": ["\\bnot\\b","\\bnever\\b","\\bno\\b","\\bisn[’']?t\\b","\\baren[’']?t\\b"],
    "scopeTokens": 6,
    "effectInsideScope": { "clear": 1.0, "caution": 0.94, "alert": 0.94 }
  },

  "adapters": {
    "sarcasm": {
      "source": "sarcasm_indicators.json",
      "classMap": {
        "marker":       { "weight": 0.25, "scopeTokens": 8 },
        "verbal_irony": { "weight": 0.35, "scopeTokens": 8 },
        "hyperbole":    { "weight": 0.20, "scopeTokens": 8 }
      },
      "effects": {
        "insideScope":  { "alert": 0.80, "caution": 0.90, "clearBlocks": true },
        "sentenceRadius": 1
      }
    },
    "profanity": {
      "source": "profanity_lexicon.json",
      "levelMap": {
        "mild":     { "alertWeight": 0.08 },
        "medium":   { "alertWeight": 0.14 },
        "strong":   { "alertWeight": 0.22 },
        "directed": { "alertWeight": 0.30, "needsSecondPerson": true }
      },
      "directedAbuse": { "windowTokens": 8, "multiplier": 1.25, "youLike": ["you","you're","u","your"] },
      "accumulation": { "mode": "nonlinear_cap", "cap": 0.42, "gamma": 0.65 }
    }
  },

  "precisionRules": {
    "absolutizerYouGate": { "windowTokens": 8, "requireYouLike": ["you","you're","u","your"] },
    "contrastiveBut": { "tokens": ["but","however","still","except","though"], "windowTokens": 6, "clearWeightMultiplier": 0.40 }
  },

  "genericTokens": {
    "globalStop": ["ok","okay"],
    "pronouns": ["i","me","my","mine","we","us","our","ours","im","i’m","i‘m","i am"],
    "policy": { "ignoreForBuckets": { "clear": true, "caution": false, "alert": false }, "maxPointsPerGenericToken": 0 }
  },

  "bucketGuards": {
    "minEvidenceTokensByBucket": { "clear": 2, "caution": 1, "alert": 1 },

    "crossBucket": {
      "cooldownCrossBucketFlipMs": 350,
      "requireTwoSentenceAgreementForFlip": true,
      "sentenceWinDelta": 0.10
    },

    "clear": {
      "requireDeescalatoryContext": true,
      "eligibleContexts": [
        "CTX_REPAIR","CTX_HUMOR","CTX_EMPATHY","CTX_GRATITUDE","CTX_SUPPORT","CTX_PRAISE",
        "CTX_NEGOTIATION","CTX_PLANNING","CTX_WORK","CTX_INTIMACY","CTX_ACCOUNTABILITY",
        "CTX_ATTACHMENT_ATTUNEMENT","CTX_VALIDATION","CTX_EMOTION_REGULATION",
        "CTX_RELATIONSHIP_NURTURE","CTX_TRUST_BUILDING","CTX_TONE_GUARDRAILS",
        "CTX_TONE_MANAGEMENT","CTX_CLARITY","CTX_BREVITY","CTX_ROUTINE","CTX_CO_PARENTING"
      ],
      "evidenceModel": {
        "minDistinctSignals": 2,
        "minTotalWeight": 0.40,
        "requireSameSpan": true,
        "categories": {
          "repair_like":         { "contexts": ["CTX_REPAIR","CTX_ACCOUNTABILITY","CTX_TRUST_BUILDING"], "minHits": 1, "weightBonus": 0.08 },
          "validation_like":     { "contexts": ["CTX_VALIDATION","CTX_EMPATHY","CTX_ATTACHMENT_ATTUNEMENT"], "minHits": 1, "weightBonus": 0.06 },
          "logistics_like":      { "contexts": ["CTX_PLANNING","CTX_CO_PARENTING","CTX_WORK","CTX_PRACTICAL"], "minHits": 1, "weightBonus": 0.04 },
          "lighteners":          { "contexts": ["CTX_HUMOR","CTX_GRATITUDE","CTX_SUPPORT","CTX_INTIMACY"], "minHits": 1, "weightBonus": 0.05, "maxBonus": 0.07 }
        }
      },
      "sentenceLevelGates": {
        "minCleanSentences": 1,
        "cleanSentenceRules": {
          "noEscalatoryContexts": ["CTX_CONFLICT","CTX_ESCALATION","CTX_BLAME","CTX_CRITIQUE","CTX_DEFENSE","CTX_WITHDRAWAL","CTX_RUPTURE","CTX_SAFETY","CTX_JEALOUSY"],
          "maxAlertScoreInSentence": 0.14,
          "maxCautionScoreInSentence": 0.20,
          "requireCohesiveHits": 2
        },
        "requireMajorityCleanForFlip": false
      },
      "genericTokenPolicy": {
        "discountPronouns": 0.0,
        "discountList": ["ok","okay"],
        "maxPointsPerGenericToken": 0
      },
      "cancelIfLocalNegation": true,
      "cancelIfLocalSarcasm": true,
      "dampenIfEscalatoryContextsActive": 0.40,
      "overshadowedBy": {
        "bucket": "alert",
        "curve": {
          "ratioAt": [
            { "alert": 0.18, "requiredClearRatio": 1.90 },
            { "alert": 0.22, "requiredClearRatio": 2.10 },
            { "alert": 0.28, "requiredClearRatio": 2.40 }
          ],
          "interpolate": "linear"
        },
        "floorClearAfterDampen": 0.12
      },
      "positionBonuses": { "start": 0.02, "end": 0.02, "allCaps": -0.02 }
    },

    "caution": {
      "preferIfClearAndAlertBoth": 0.18,
      "sentenceGuard": { "minEvidenceWeight": 0.18, "blockIfAlertInSameSentenceAbove": 0.22 },
      "coexistWithPlanning": true
    },

    "alert": {
      "allCapsMultiplier": 1.10,
      "exclamationMultiplier": 1.05,
      "sentenceStickiness": { "minAlertToStick": 0.22, "decayPerSubsequentSentence": 0.85, "maxStickySentences": 2 },
      "negationAndSarcasmDampen": { "negation": 0.90, "sarcasm": 0.80 }
    }
  },

  "conflictResolution": {
    "priorityWins": true,
    "polarityBias": { "escalatory": 0.06, "deescalatory": 0.04 },
    "maxContextsPerSentence": 3,
    "repeatDecayDefault": 0.75,
    "cooldownSentenceMs": 300
  },

  "calibration": {
    "method": "temperature",
    "buckets": { "clear": 0.95, "caution": 1.00, "alert": 1.05 }
  },

  "uiSelection": {
    "method": "bucket-max-with-guards",
    "tieBreak": ["caution","clear","alert"],
    "stability": {
      "minChangeDelta": 0.08,
      "requireTwoSentencesForFlip": true,
      "wilsonMarginMin": 0.06
    }
  },

  "contexts": [
    {
      "id": "CTX_CONFLICT",
      "context": "conflict",
      "description": "Argument or tense exchange",
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 32,
      "scope": "message",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.65
      },
      "toneCues": [
        "argue", "fight", "mad", "blame", "yell",
        "accuse", "shout", "threaten", "disrespect", "disrespectful",
        "raise your voice", "talking over me", "name-calling", "gaslighting", "stop twisting my words",
        "that's unfair", "not fair"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(yell|shout|scream|screaming)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "gaslighting",
          "weight": 0.35,
          "type": "token"
        },
        {
          "pattern": "stop twisting my words",
          "weight": 0.3,
          "type": "ngram"
        },
        {
          "pattern": "\\b(fuck|fucking)\\s+(hell|shit|damn)\\b",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "you always",
          "weight": 0.22,
          "type": "ngram"
        },
        {
          "pattern": "you never",
          "weight": 0.22,
          "type": "ngram"
        },
        {
          "pattern": "\\b(shut\\s+up|stfu)\\b",
          "weight": 0.3,
          "type": "regex"
        }
      ],
      "counterCues": [
        "jk",
        "kidding",
        "lol",
        "🙂",
        "😉",
        "haha",
        "just teasing"
      ],
      "positionBoost": {
        "start": 0.04,
        "end": 0.02,
        "allCaps": 0.05
      },
      "repeatDecay": 0.6,
      "cooldown_ms": 400,
      "maxBoostsPerMessage": 3,
      "excludeIfContexts": [
        "CTX_HUMOR",
        "CTX_REPAIR",
        "CTX_GRATITUDE"
      ],
      "requiresAny": [
        "you",
        "we",
        "us"
      ],
      "confidenceBoosts": {
        "alert": 0.25,
        "caution": 0.05
      },
      "severity": {
        "alert": 0.2,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.1,
          "caution": 0.15
        },
        "avoidant": {
          "caution": 0.2,
          "clear": 0.05
        },
        "disorganized": {
          "alert": 0.2,
          "caution": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      },
      "attachmentGates": {
        "avoidant": {
          "allow": [
            "boundary",
            "withdrawal"
          ],
          "dampening": 0.7
        }
      }
    },
    {
      "id": "CTX_ESCALATION",
      "context": "escalation",
      "description": "Situation spiraling or intensifying",
      "priority": 6,
      "polarity": "escalatory",
      "windowTokens": 28,
      "scope": "message",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.7
      },
      "toneCues": [
        "spiral", "escalate", "getting worse", "blow up", "losing it",
        "can't take this", "done with this", "getting heated", "this is ridiculous", "enough is enough",
        "I'm done", "fed up", "breaking point", "out of control", "making it worse",
        "can't handle", "losing my mind"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(spiral|spiraling|escalat)\\w*\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "breaking point",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "\\b(done|finished)\\s+with\\s+(this|you)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "can't take",
          "weight": 0.22,
          "type": "ngram"
        },
        {
          "pattern": "getting worse",
          "weight": 0.2,
          "type": "ngram"
        }
      ],
      "counterCues": [
        "deep breath",
        "pause",
        "let's step back",
        "taking a break"
      ],
      "positionBoost": {
        "start": 0.03,
        "end": 0.05,
        "allCaps": 0.08
      },
      "cooldown_ms": 300,
      "confidenceBoosts": {
        "alert": 0.35,
        "caution": 0.15
      },
      "severity": {
        "alert": 0.25,
        "caution": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.15,
          "caution": 0.2
        },
        "avoidant": {
          "alert": 0.05,
          "clear": -0.1
        },
        "disorganized": {
          "alert": 0.25,
          "caution": 0.15
        },
        "secure": {
          "caution": 0.1,
          "clear": 0.1
        }
      }
    },
    {
      "id": "CTX_CONFLICT_PREVENTION",
      "context": "conflict_prevention",
      "description": "Proactive measures to avoid conflict",
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 35,
      "clearGate": {
        "mode": "boost",
        "strength": 1.2
      },
      "toneCues": [
        "before this gets", "let's avoid", "prevent this from", "don't want to fight", "keep things calm",
        "stay peaceful", "avoid drama", "nip this in the bud", "before we argue", "let's not go there",
        "keep it civil", "maintain respect", "stay constructive", "before tensions rise"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "before\\s+(this|we)\\s+(get|start|go)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "let's avoid",
          "weight": 0.22,
          "type": "ngram"
        },
        {
          "pattern": "prevent.*from",
          "weight": 0.2,
          "type": "regex"
        },
        {
          "pattern": "keep.*calm|stay.*peaceful",
          "weight": 0.18,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.25,
        "caution": 0.1
      },
      "severity": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.15,
          "caution": 0.05
        },
        "avoidant": {
          "clear": 0.2
        },
        "disorganized": {
          "clear": 0.1,
          "caution": 0.05
        },
        "secure": {
          "clear": 0.25
        }
      }
    },
    {
      "id": "CTX_ACCOUNTABILITY",
      "context": "accountability",
      "description": "Taking responsibility for actions or mistakes",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.15
      },
      "toneCues": [
        "my fault", "I was wrong", "take responsibility", "I messed up", "I'm accountable",
        "own my part", "I should have", "my mistake", "I need to do better", "that's on me",
        "I was out of line", "accept responsibility", "I'm sorry for my role", "I contributed to this", "my bad"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(my fault|my mistake|my bad)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "I was wrong",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "take responsibility",
          "weight": 0.25,
          "type": "ngram"
        },
        {
          "pattern": "that's on me",
          "weight": 0.22,
          "type": "ngram"
        },
        {
          "pattern": "I.*accountable",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.3,
        "caution": -0.05
      },
      "severity": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.1,
          "caution": 0.15
        },
        "avoidant": {
          "clear": 0.05
        },
        "disorganized": {
          "clear": 0.08,
          "caution": 0.1
        },
        "secure": {
          "clear": 0.3
        }
      }
    },
    {
      "id": "CTX_DEFENSIVENESS",
      "context": "defensiveness",
      "description": "Defensive reactions and justifications",
      "priority": 4,
      "polarity": "escalatory",
      "windowTokens": 25,
      "clearGate": {
        "mode": "dampen",
        "strength": 0.6
      },
      "toneCues": [
        "I didn't mean", "that's not what I said", "you're twisting my words", "I was just", "but I was only",
        "that's not fair", "you don't understand", "I had to", "I was trying to help", "excuse me",
        "how was I supposed to", "I can't help it", "it's not my fault", "you're being too sensitive"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "that's not what I",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "you don't understand",
          "weight": 0.25,
          "type": "ngram"
        },
        {
          "pattern": "\\b(excuse me|how was I)\\b",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "too sensitive",
          "weight": 0.3,
          "type": "ngram"
        },
        {
          "pattern": "I was (just|only|trying)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "positionBoost": {
        "start": 0.05,
        "end": 0.02
      },
      "confidenceBoosts": {
        "caution": 0.2,
        "alert": 0.15
      },
      "severity": {
        "caution": 0.15,
        "alert": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.25,
          "alert": 0.1
        },
        "avoidant": {
          "caution": 0.3,
          "alert": 0.05
        },
        "disorganized": {
          "caution": 0.2,
          "alert": 0.15
        },
        "secure": {
          "caution": 0.1
        }
      }
    },
    {
      "id": "CTX_PLANNING",
      "context": "planning",
      "description": "Logistics and scheduling",
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "schedule", "plan", "calendar", "reschedule", "availability",
        "deadline", "what time", "which day", "what date", "meeting time",
        "put it on the calendar", "send an invite", "rsvp", "eta", "book",
        "confirm", "time slot", "availability window"
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1,
          "clear": 0.05
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(schedule|calendar)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(plan|organize)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(when|time)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(meeting|appointment)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(next week|tomorrow)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.15
      }
    },
    {
      "id": "CTX_REPAIR",
      "context": "repair",
      "description": "Attempt to reconcile or make peace",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 40,
      "scope": "message",
      "clearGate": {
        "mode": "promote",
        "strength": 1
      },
      "toneCues": [
        "sorry", "apologize", "my fault", "own up", "forgive",
        "make up", "my bad", "i apologize", "owning it", "i was wrong",
        "make things right", "make amends"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(sorry|apologize|apologies)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "my\\s+(fault|bad|mistake)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "i\\s+(was\\s+wrong|messed\\s+up|screwed\\s+up)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "make\\s+(it\\s+right|amends|up\\s+to\\s+you)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "forgive\\s+me",
          "weight": 0.35,
          "type": "regex"
        }
      ],
      "counterCues": [
        "but",
        "however",
        "except",
        "still",
        "though"
      ],
      "positionBoost": {
        "start": 0.08,
        "end": 0.06,
        "allCaps": 0.02
      },
      "repeatDecay": 0.8,
      "cooldown_ms": 200,
      "maxBoostsPerMessage": 4,
      "requiresAny": [
        "sorry",
        "apologize",
        "my fault",
        "my bad",
        "forgive",
        "make up",
        "make amends",
        "i was wrong",
        "i apologize",
        "owning it"
      ],
      "confidenceBoosts": {
        "clear": 0.25,
        "caution": 0.05
      },
      "severity": {
        "clear": 0.2,
        "caution": -0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.15
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "alert": 0.05,
          "caution": 0.05
        },
        "secure": {
          "clear": 0.2
        }
      },
      "attachmentGates": {
        "avoidant": {
          "dampening": 0.8
        }
      }
    },
    {
      "id": "CTX_SUPPORT",
      "context": "support",
      "description": "Offering care or encouragement",
      "clearGate": {
        "mode": "promote",
        "strength": 1
      },
      "toneCues": [
        "proud", "cheer", "encourage", "you can", "believe in you",
        "back you up", "got you", "here for you", "you’ve got this", "you've got this",
        "rooting for you", "proud of you"
      ],
      "confidenceBoosts": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.15
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      },
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(proud of you|rooting for you)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "believe in you",
          "weight": 0.3,
          "type": "ngram"
        },
        {
          "pattern": "(here for you|got you|back you up)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "you've got this",
          "weight": 0.26,
          "type": "ngram"
        },
        {
          "pattern": "(encourage|cheer)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.25
      }
    },
    {
      "id": "CTX_ATTACHMENT_ATTUNEMENT",
      "context": "attachment_attunement",
      "description": "Attempts to understand and match partner's emotional state",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 35,
      "clearGate": {
        "mode": "boost",
        "strength": 1.2
      },
      "toneCues": [
        "I can see", "I notice", "sounds like", "seems like you", "it feels like",
        "I hear that you", "I'm sensing", "picking up on", "you sound", "you seem",
        "reading between the lines", "what I'm hearing", "if I understand", "let me see if I get this"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "I (can see|notice|hear) (that )?you",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(sounds|seems) like you",
          "weight": 0.23,
          "type": "regex"
        },
        {
          "pattern": "I'm (sensing|picking up)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "let me see if",
          "weight": 0.2,
          "type": "ngram"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.3,
        "caution": 0.1
      },
      "severity": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.2,
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.05
        },
        "disorganized": {
          "clear": 0.15,
          "caution": 0.05
        },
        "secure": {
          "clear": 0.35
        }
      }
    },
    {
      "id": "CTX_VALIDATION",
      "context": "validation",
      "description": "Acknowledging and affirming partner's feelings or experience",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.25
      },
      "toneCues": [
        "that makes sense", "totally understand", "I get it", "valid", "you're right",
        "fair point", "I can understand why", "makes complete sense", "absolutely", "that's legitimate",
        "your feelings are valid", "I hear you", "that's understandable", "I see your point"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "that makes (sense|complete sense)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "totally understand",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "(valid|legitimate)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "I (get it|hear you|see your point)",
          "weight": 0.23,
          "type": "regex"
        },
        {
          "pattern": "you're right",
          "weight": 0.22,
          "type": "ngram"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.35,
        "caution": -0.05
      },
      "severity": {
        "clear": 0.3
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.25,
          "caution": 0.05
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "clear": 0.2,
          "caution": 0.05
        },
        "secure": {
          "clear": 0.4
        }
      }
    },
    {
      "id": "CTX_REASSURANCE_SEEKING",
      "context": "reassurance_seeking",
      "description": "Asking for comfort, confirmation, or emotional safety",
      "priority": 3,
      "polarity": "neutral",
      "windowTokens": 25,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "are we okay", "do you still", "am I", "are you mad", "did I do something wrong",
        "do you love me", "are you upset", "everything alright", "still care", "still want",
        "am I overthinking", "do you think", "are you sure", "promise me", "tell me we're okay",
        "reassure me"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "are (we|you) (okay|alright|good)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "do you (still|love)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "am I (overthinking|wrong|okay)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "did I do something",
          "weight": 0.22,
          "type": "ngram"
        },
        {
          "pattern": "promise me",
          "weight": 0.2,
          "type": "ngram"
        }
      ],
      "confidenceBoosts": {
        "caution": 0.2,
        "clear": 0.05
      },
      "severity": {
        "caution": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.3,
          "alert": 0.1
        },
        "avoidant": {
          "clear": -0.1
        },
        "disorganized": {
          "caution": 0.25,
          "alert": 0.15
        },
        "secure": {
          "clear": 0.15
        }
      }
    },
    {
      "id": "CTX_EMOTION_REGULATION",
      "context": "emotion_regulation",
      "description": "Managing or processing emotional responses",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.1
      },
      "toneCues": [
        "deep breath", "calm down", "taking a moment", "need to process", "step back",
        "cooling off", "regain composure", "collecting myself", "take a pause", "slow down",
        "breathe", "center myself", "need space to think", "processing this", "working through",
        "managing my emotions"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(deep breath|take a breath)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(calm down|cool down|slow down)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(taking a moment|take a pause)",
          "weight": 0.23,
          "type": "regex"
        },
        {
          "pattern": "need (space|time) to",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(processing|working through)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.25,
        "caution": 0.1
      },
      "severity": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.15,
          "caution": 0.2
        },
        "avoidant": {
          "clear": 0.2,
          "caution": 0.05
        },
        "disorganized": {
          "clear": 0.1,
          "caution": 0.25
        },
        "secure": {
          "clear": 0.3
        }
      }
    },
    {
      "id": "CTX_DISCLOSURE",
      "context": "disclosure",
      "description": "Revealing personal or sensitive information",
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "secret", "share", "honest", "truth", "confess",
        "admit", "be honest", "open up", "come clean", "to tell you the truth",
        "tell you the truth", "come out with"
      ],
      "confidenceBoosts": {
        "caution": 0.2,
        "clear": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.15
        },
        "avoidant": {
          "alert": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 4,
      "polarity": "neutral",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(tell you|share)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(secret|private)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(honest|truth)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(reveal|admit)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(need to say|confess)",
          "weight": 0.25,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.2
      }
    },
    {
      "id": "CTX_HUMOR",
      "context": "humor",
      "description": "Joking, teasing, or banter",
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 20,
      "scope": "local",
      "clearGate": {
        "mode": "promote",
        "strength": 0.8
      },
      "toneCues": [
        "lol", "haha", "funny", "joke", "tease",
        "banter", "jk", "kidding", "just teasing", "lolol",
        "lmao", "lmfao", "rofl", "😂", "🤣",
        "😅", "😜", "😉"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(lol|haha|lmao|rofl)\\b",
          "weight": 0.2,
          "type": "regex"
        },
        {
          "pattern": "just\\s+(kidding|teasing|joking)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "😂|🤣|😅",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "/s\\b",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "\\bjk\\b",
          "weight": 0.22,
          "type": "token"
        }
      ],
      "deescalates": [
        "conflict",
        "escalation",
        "blame"
      ],
      "positionBoost": {
        "start": 0.02,
        "end": 0.08,
        "allCaps": -0.02
      },
      "repeatDecay": 0.9,
      "cooldown_ms": 100,
      "maxBoostsPerMessage": 5,
      "confidenceBoosts": {
        "clear": 0.2
      },
      "severity": {
        "clear": 0.15,
        "alert": -0.2,
        "caution": -0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      }
    },
    {
      "id": "CTX_INTIMACY",
      "context": "intimacy",
      "description": "Affectionate or close exchange",
      "clearGate": {
        "mode": "promote",
        "strength": 0.8
      },
      "toneCues": [
        "love", "miss you", "hug", "kiss", "affection",
        "sweet", "babe", "baby", "miss u", "xoxo",
        "mwah", "cuddle", "snuggle", "❤️", "😘"
      ],
      "confidenceBoosts": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.1
        },
        "avoidant": {
          "caution": 0.15
        },
        "disorganized": {
          "alert": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      },
      "priority": 2,
      "polarity": "deescalatory",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(love you|adore you)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(close|connection)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(miss you|thinking of you)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(heart|soul)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(together|us)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.3
      }
    },
    {
      "id": "CTX_NEGOTIATION",
      "context": "negotiation",
      "description": "Trying to reach agreement",
      "clearGate": {
        "mode": "promote",
        "strength": 0.6
      },
      "toneCues": [
        "compromise", "deal", "agree", "meet halfway", "terms",
        "middle ground", "meet in the middle", "tradeoff", "terms we can agree", "deal we both"
      ],
      "confidenceBoosts": {
        "caution": 0.15,
        "clear": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "alert": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 4,
      "polarity": "neutral",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(compromise|middle ground)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(agree|deal)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(both|together)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(work out|figure out)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "what if",
          "weight": 0.22,
          "type": "ngram"
        }
      ],
      "severity": {
        "clear": 0.2
      }
    },
    {
      "id": "CTX_WORK",
      "context": "work/school",
      "description": "Task or duty-related discussion",
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "assignment", "project", "school", "due", "grades",
        "meeting", "shift", "deadline", "deliverable", "report",
        "sprint", "quarter", "exam", "midterm", "grade",
        "syllabus", "project brief"
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "caution": 0.05
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(work|job|office)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(meeting|deadline)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(project|task)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(boss|colleague)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(busy|stress)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.1
      }
    },
    {
      "id": "CTX_MISUNDERSTANDING",
      "context": "misunderstanding",
      "description": "Confusion or crossed signals in communication",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.8
      },
      "toneCues": [
        "misunderstood", "mixed up", "wrong impression", "didn't mean", "didnt mean",
        "didn’t mean", "confuse", "that's not what i meant", "that’s not what i meant", "you took it the wrong way",
        "miscommunication", "mixed signals"
      ],
      "confidenceBoosts": {
        "caution": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.05,
          "caution": 0.15
        },
        "avoidant": {
          "clear": 0.05
        },
        "disorganized": {
          "caution": 0.2
        },
        "secure": {
          "clear": 0.1
        }
      },
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(confused|don't understand)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(what do you mean|unclear)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(mixed up|wrong)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(clarify|explain)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(thought you meant|assumed)",
          "weight": 0.25,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.25,
        "alert": 0.1
      }
    },
    {
      "id": "CTX_REQUEST",
      "context": "request",
      "description": "Asking for help or a favor",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.8
      },
      "toneCues": [
        "can you", "please", "favor", "help", "would you",
        "could you", "do you mind", "could you please", "would you mind", "help me out",
        "any chance you could", "pls", "plz"
      ],
      "confidenceBoosts": {
        "caution": 0.15,
        "clear": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.15
        },
        "avoidant": {
          "alert": 0.05
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 20,
      "toneCuesWeighted": [
        {
          "pattern": "(could you|would you mind)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "please",
          "weight": 0.25,
          "type": "ngram"
        },
        {
          "pattern": "(help me|assist)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "when you get a chance",
          "weight": 0.2,
          "type": "ngram"
        }
      ],
      "severity": {
        "clear": 0.15
      }
    },
    {
      "id": "CTX_CRITIQUE",
      "context": "critique",
      "description": "Providing feedback or criticism",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.6
      },
      "toneCues": [
        "feedback", "improve", "should have", "should’ve", "would’ve",
        "mistake", "issue", "constructive feedback", "suggestion", "could improve",
        "room for improvement", "that didn’t work", "this came out wrong", "this part is wrong"
      ],
      "confidenceBoosts": {
        "alert": 0.2,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.15
        },
        "avoidant": {
          "caution": 0.15
        },
        "disorganized": {
          "alert": 0.1
        },
        "secure": {
          "clear": 0.1
        }
      },
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 35,
      "toneCuesWeighted": [
        {
          "pattern": "(feedback|constructive)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(improve|better)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(issue|problem|concern)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "I think",
          "weight": 0.18,
          "type": "ngram"
        }
      ],
      "severity": {
        "caution": 0.2,
        "alert": 0.1
      }
    },
    {
      "id": "CTX_GRATITUDE",
      "context": "gratitude",
      "description": "Expressing thanks or appreciation",
      "clearGate": {
        "mode": "promote",
        "strength": 1
      },
      "toneCues": [
        "thank you", "thanks", "thx", "ty", "tysm",
        "appreciate", "appreciate it", "appreciate you", "grateful", "grateful for you",
        "means a lot", "means so much", "that meant a lot", "big help", "so helpful",
        "🙏", "❤️", "🤝"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(thank\\s*you|thanks|ty|thx|tysm)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "\\b(appreciate(\\s+(it|you))?)\\b",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "\\b(grateful(\\s+for\\s+you)?)\\b",
          "weight": 0.26,
          "type": "regex"
        },
        {
          "pattern": "\\b(means\\s+(a\\s+lot|so\\s+much))\\b",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "🙏|❤️|🤝",
          "weight": 0.18,
          "type": "regex"
        }
      ],
      "positionBoost": {
        "start": 0.04,
        "end": 0.04,
        "allCaps": 0
      },
      "confidenceBoosts": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.1
        },
        "avoidant": {
          "caution": 0.05
        },
        "disorganized": {
          "clear": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      }
    },
    {
      "id": "CTX_DECISION",
      "context": "decision",
      "description": "Choosing between options or resolving uncertainty",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.8
      },
      "toneCues": [
        "decide", "choice", "option", "pick", "resolve",
        "final", "decide together", "pick one", "make the call", "pros and cons",
        "finalize", "locked in"
      ],
      "confidenceBoosts": {
        "caution": 0.2,
        "clear": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.2
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "alert": 0.05
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 3,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(decide|choice)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(option|alternative)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(think about|consider)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(should we|what if)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(pros and cons|weigh)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.15
      }
    },
    {
      "id": "CTX_ESCALATION",
      "context": "escalation",
      "description": "Rising tension or worsening disagreement",
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 24,
      "scope": "message",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.75
      },
      "toneCues": [
        "always", "never", "done with this", "fed up", "sick of",
        "can't stand", "cant stand", "every time", "as usual", "i'm done",
        "i’m done", "im done", "over this", "can't deal", "cant deal",
        "so sick of this", "i can't stand this", "i cant stand this"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(always|never)\\b",
          "weight": 0.2,
          "type": "regex"
        },
        {
          "pattern": "\\b(done|finished)\\s+with\\s+(this|you|us)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "so\\s+(sick|tired|fed\\s+up)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "can't\\s+(stand|deal|take)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "every\\s+(damn|fucking|single)\\s+time",
          "weight": 0.35,
          "type": "regex"
        }
      ],
      "counterCues": [
        "sometimes",
        "maybe",
        "might",
        "could be",
        "perhaps"
      ],
      "positionBoost": {
        "start": 0.06,
        "end": 0.04,
        "allCaps": 0.08
      },
      "repeatDecay": 0.5,
      "cooldown_ms": 300,
      "maxBoostsPerMessage": 2,
      "excludeIfContexts": [
        "CTX_HUMOR",
        "CTX_REPAIR"
      ],
      "confidenceBoosts": {
        "alert": 0.3
      },
      "severity": {
        "alert": 0.25,
        "caution": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.2
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "alert": 0.2
        },
        "secure": {
          "caution": 0.1
        }
      }
    },
    {
      "id": "CTX_MEMORY",
      "context": "memory",
      "description": "Referencing past events or nostalgia",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.8
      },
      "toneCues": [
        "remember", "back then", "used to", "last time", "nostalgic",
        "throwback", "remember when", "back in the day", "last time we"
      ],
      "confidenceBoosts": {
        "clear": 0.15,
        "caution": 0.05
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1
        },
        "avoidant": {
          "alert": 0.05
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.1
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(remember|recall)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(past|history)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(used to|back then)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(nostalgia|memories)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(before|ago)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.12
      }
    },
    {
      "id": "CTX_PRAISE",
      "context": "praise",
      "description": "Giving compliments or positive recognition",
      "clearGate": {
        "mode": "promote",
        "strength": 1
      },
      "toneCues": [
        "great job", "amazing", "so proud", "awesome", "impressed",
        "so impressed", "you crushed it", "nailed it", "well done", "👏"
      ],
      "confidenceBoosts": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.15
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "clear": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      },
      "priority": 2,
      "polarity": "deescalatory",
      "windowTokens": 20,
      "toneCuesWeighted": [
        {
          "pattern": "(amazing|incredible|wonderful)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(great job|well done)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(love|adore)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(proud|impressed)",
          "weight": 0.3,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.3
      }
    },
    {
      "id": "CTX_RUPTURE",
      "context": "rupture",
      "description": "Breakdown or distancing in the relationship",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.8
      },
      "toneCues": [
        "over", "ending", "space", "leave me alone", "don’t care",
        "don't care", "done", "i'm done", "im done", "we're over",
        "were over", "don't care anymore", "i’m out", "i'm out", "done talking",
        "whatever"
      ],
      "confidenceBoosts": {
        "alert": 0.25,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.2
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "alert": 0.2
        },
        "secure": {
          "caution": 0.1
        }
      },
      "priority": 7,
      "polarity": "escalatory",
      "windowTokens": 35,
      "toneCuesWeighted": [
        {
          "pattern": "(break up|over|done)",
          "weight": 0.4,
          "type": "regex"
        },
        {
          "pattern": "(can't do this|enough)",
          "weight": 0.38,
          "type": "regex"
        },
        {
          "pattern": "(distance|space)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(hurt|pain)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(different|apart)",
          "weight": 0.25,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.35,
        "alert": 0.25
      }
    },
    {
      "id": "CTX_REASSURANCE",
      "context": "reassurance",
      "description": "Seeking or giving emotional confirmation",
      "clearGate": {
        "mode": "promote",
        "strength": 0.6
      },
      "toneCues": [
        "okay?", "still love", "with me", "right?", "promise",
        "safe", "still with me?", "are we okay?", "promise me", "we’re good?",
        "we're good?", "need to know i’m safe with you", "still love me?"
      ],
      "confidenceBoosts": {
        "caution": 0.15,
        "clear": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.2
        },
        "avoidant": {
          "alert": 0.05
        },
        "disorganized": {
          "caution": 0.15
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(everything's okay|it's fine)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(don't worry|no need)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(sure|certain)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(trust|believe)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "I promise",
          "weight": 0.35,
          "type": "ngram"
        }
      ],
      "severity": {
        "clear": 0.25
      }
    },
    {
      "id": "CTX_DEFENSE",
      "context": "defense",
      "description": "Protecting oneself from criticism or attack",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.7
      },
      "toneCues": [
        "not true", "that’s unfair", "that's unfair", "you’re wrong", "you're wrong",
        "defend", "justify", "that’s not true", "that's not true", "you’re twisting it",
        "you're twisting it", "justify myself", "explain myself", "you’ve got it wrong", "you've got it wrong"
      ],
      "confidenceBoosts": {
        "alert": 0.2,
        "caution": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.15
        },
        "avoidant": {
          "caution": 0.15
        },
        "disorganized": {
          "alert": 0.2
        },
        "secure": {
          "caution": 0.1
        }
      },
      "priority": 6,
      "polarity": "escalatory",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(not my fault|didn't mean)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(just|only)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "I was (just|only)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(trying to|meant to)",
          "weight": 0.28,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.25,
        "alert": 0.15
      }
    },
    {
      "id": "CTX_WITHDRAWAL",
      "context": "withdrawal",
      "description": "Pulling away emotionally or physically",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.8
      },
      "toneCues": [
        "leave me", "don’t talk", "don't talk", "alone", "space",
        "done talking", "not now", "need space right now", "i need space right now", "don’t talk to me",
        "don't talk to me", "leave me alone", "idc", "going offline"
      ],
      "confidenceBoosts": {
        "alert": 0.25,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.2
        },
        "avoidant": {
          "clear": 0.2
        },
        "disorganized": {
          "alert": 0.2
        },
        "secure": {
          "caution": 0.1
        }
      },
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(need space|leave me)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(done|over it)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "whatever",
          "weight": 0.32,
          "type": "ngram"
        },
        {
          "pattern": "(fine|okay)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.3,
        "alert": 0.2
      }
    },
    {
      "id": "CTX_DATING",
      "context": "dating",
      "description": "Romantic or relationship-building exchanges",
      "clearGate": {
        "mode": "promote",
        "strength": 0.6
      },
      "toneCues": [
        "date", "dinner", "go out", "crush", "flirt",
        "romantic", "ask out", "see you", "date night", "grab dinner",
        "go out with you", "ask you out", "see you again", "coffee date", "romantic plan"
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.15,
          "clear": 0.1
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "alert": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(dinner|date)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(movie|out)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(time together|spend time)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(fun|enjoy)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(weekend|tonight)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.15
      }
    },
    {
      "id": "CTX_FINANCIAL",
      "context": "financial",
      "description": "Money, spending, or budgeting matters",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.8
      },
      "toneCues": [
        "bill", "money", "budget", "pay", "rent",
        "cost", "spend", "save", "rent is due", "utilities",
        "electric bill", "insurance", "budgeting", "expense", "credit card",
        "bank", "loan", "split the bill", "pay back"
      ],
      "confidenceBoosts": {
        "caution": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.1,
          "caution": 0.15
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 3,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(money|budget)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(expensive|cost)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(save|spend)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(bill|payment)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(afford|financial)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.15,
        "caution": 0.05
      }
    },
    {
      "id": "CTX_SOCIAL",
      "context": "social",
      "description": "Friends, social life, or outside relationships",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.8
      },
      "toneCues": [
        "party", "friends", "hang out", "social", "invite",
        "group", "night out", "friends over", "group chat", "rsvp"
      ],
      "confidenceBoosts": {
        "clear": 0.15,
        "caution": 0.05
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.15
        },
        "avoidant": {
          "alert": 0.05
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(friends|social)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(party|gathering)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(people|crowd)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(hang out|get together)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(invite|join)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.12
      }
    },
    {
      "id": "CTX_VULNERABILITY",
      "context": "vulnerability",
      "description": "Expressions of fear, insecurity, or emotional exposure",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.6
      },
      "toneCues": [
        "scared", "worried", "ashamed", "embarrassed", "lonely",
        "guilty", "afraid", "insecure", "anxious", "feels scary"
      ],
      "confidenceBoosts": {
        "caution": 0.25,
        "clear": 0.05
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.2
        },
        "avoidant": {
          "alert": 0.1
        },
        "disorganized": {
          "alert": 0.15,
          "caution": 0.15
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 4,
      "polarity": "neutral",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(scared|afraid)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(insecure|uncertain)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(share|tell you)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(feel|feeling)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(open|honest)",
          "weight": 0.3,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.2,
        "caution": 0.1
      }
    },
    {
      "id": "CTX_PRESENCE",
      "context": "presence",
      "description": "Attention, distraction, or availability in the moment",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.7
      },
      "toneCues": [
        "listening", "pay attention", "with me", "focused", "ignore",
        "distracted", "put the phone down", "be present", "listening to me", "you're not here with me",
        "you’re not here with me"
      ],
      "confidenceBoosts": {
        "caution": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.15,
          "caution": 0.15
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "alert": 0.1
        },
        "secure": {
          "clear": 0.1
        }
      },
      "priority": 4,
      "polarity": "escalatory",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(distracted|not listening)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(phone|device)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(attention|focus)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(here|present)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(ignore|absent)",
          "weight": 0.32,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.2,
        "alert": 0.1
      }
    },
    {
      "id": "CTX_JEALOUSY",
      "context": "jealousy",
      "description": "Comparison, insecurity, or emotional threat",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.7
      },
      "toneCues": [
        "jealous", "other guy", "other girl", "better than me", "attention",
        "flirt with", "competition", "dms", "ig likes", "instagram likes",
        "snap", "ex", "talking to her", "talking to him", "flirting",
        "attention on them"
      ],
      "confidenceBoosts": {
        "alert": 0.25,
        "caution": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.2
        },
        "avoidant": {
          "caution": 0.15
        },
        "disorganized": {
          "alert": 0.2
        },
        "secure": {
          "caution": 0.1
        }
      },
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(jealous|envious)",
          "weight": 0.38,
          "type": "regex"
        },
        {
          "pattern": "(other|someone else)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(attention|time)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(compare|better)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(why|what about)",
          "weight": 0.25,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.25,
        "alert": 0.15
      }
    },
    {
      "id": "CTX_META",
      "context": "meta",
      "description": "Talking about the relationship itself",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.9
      },
      "toneCues": [
        "our relationship", "we need to talk", "us", "how we are", "between us",
        "where we stand", "check in about us", "define the relationship", "dtr", "how we’re doing",
        "how we're doing"
      ],
      "confidenceBoosts": {
        "caution": 0.2,
        "clear": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.15
        },
        "avoidant": {
          "alert": 0.15
        },
        "disorganized": {
          "alert": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 4,
      "polarity": "neutral",
      "windowTokens": 35,
      "toneCuesWeighted": [
        {
          "pattern": "(relationship|us)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(communication|talking)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(how we|the way we)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(pattern|dynamic)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(discuss|talk about)",
          "weight": 0.25,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.2
      }
    },
    {
      "id": "CTX_ROUTINE",
      "context": "routine",
      "description": "Everyday check-ins and daily life updates",
      "clearGate": {
        "mode": "promote",
        "strength": 0.5
      },
      "toneCues": [
        "morning", "night", "breakfast", "home", "heading out",
        "daily", "routine", "morning update", "headed home", "on my way",
        "goodnight", "daily check-in"
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.1
        },
        "avoidant": {
          "clear": 0.05
        },
        "disorganized": {
          "caution": 0.05
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 1,
      "polarity": "neutral",
      "windowTokens": 20,
      "toneCuesWeighted": [
        {
          "pattern": "(daily|routine)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(usual|normal)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(every day|regularly)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(habit|pattern)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(morning|evening)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.1
      }
    },
    {
      "id": "CTX_SAFETY",
      "context": "safety",
      "description": "Expressions of physical or emotional safety concerns",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.8
      },
      "toneCues": [
        "safe", "danger", "scared", "threat", "afraid",
        "not okay", "protect", "unsafe", "panic", "in danger",
        "threatening", "creepy", "not okay being alone", "protect me", "feel threatened"
      ],
      "confidenceBoosts": {
        "alert": 0.3,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.2
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "alert": 0.2,
          "caution": 0.15
        },
        "secure": {
          "clear": 0.1
        }
      },
      "priority": 6,
      "polarity": "escalatory",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(safe|safety)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(danger|risk)",
          "weight": 0.38,
          "type": "regex"
        },
        {
          "pattern": "(scared|afraid)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(protect|secure)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(worry|concern)",
          "weight": 0.25,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.25,
        "alert": 0.2
      }
    },
    {
      "id": "CTX_EMPATHY",
      "context": "empathy",
      "description": "Recognizing or validating another’s feelings",
      "clearGate": {
        "mode": "promote",
        "strength": 1
      },
      "toneCues": [
        "i understand", "that must feel", "sorry you feel", "i get it", "empathize",
        "i hear you", "i get how that feels", "that must be hard", "makes sense you’d feel", "i see your point"
      ],
      "confidenceBoosts": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.15
        },
        "avoidant": {
          "caution": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      },
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 25,
      "toneCuesWeighted": [
        {
          "pattern": "(understand|feel)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "I can imagine",
          "weight": 0.3,
          "type": "ngram"
        },
        {
          "pattern": "(sorry|sympathize)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "that must",
          "weight": 0.22,
          "type": "ngram"
        }
      ],
      "severity": {
        "clear": 0.25
      }
    },
    {
      "id": "CTX_BLAME",
      "context": "blame",
      "description": "Assigning fault or responsibility",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.8
      },
      "toneCues": [
        "your fault", "because of you", "blame", "caused this", "responsible for",
        "this is on you", "on you", "you caused this"
      ],
      "confidenceBoosts": {
        "alert": 0.25,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.2
        },
        "avoidant": {
          "caution": 0.15
        },
        "disorganized": {
          "alert": 0.2
        },
        "secure": {
          "caution": 0.1
        }
      },
      "priority": 6,
      "polarity": "escalatory",
      "windowTokens": 30,
      "toneCuesWeighted": [
        {
          "pattern": "(your fault|you did)",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "(always|never)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "you (always|never)",
          "weight": 0.32,
          "type": "regex"
        },
        {
          "pattern": "(because of you|your)",
          "weight": 0.3,
          "type": "regex"
        }
      ],
      "severity": {
        "caution": 0.25,
        "alert": 0.2
      }
    },
    {
      "id": "CTX_PRACTICAL",
      "context": "practical",
      "description": "Household, chores, or logistics of daily tasks",
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "groceries", "laundry", "clean", "dishes", "fix",
        "house", "chores", "take out the trash", "load the dishwasher", "vacuum",
        "clean up", "fix the sink", "chores list", "grocery run"
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.1
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "caution": 0.05
        },
        "secure": {
          "clear": 0.15
        }
      },
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 20,
      "toneCuesWeighted": [
        {
          "pattern": "(chores|tasks)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(household|home)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(practical|logistics)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(organize|manage)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(efficient|system)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "severity": {
        "clear": 0.12
      }
    },
    {
      "id": "CTX_ANXIOUS_PATTERN",
      "context": "anxious.pattern",
      "description": "Anxious attachment communication patterns and behaviors",
      "priority": 4,
      "polarity": "escalatory",
      "windowTokens": 32,
      "scope": "message",
      "clearGate": {
        "mode": "neutral",
        "strength": 0.7
      },
      "toneCues": [
        "read my message", "saw my text", "why haven't you", "still waiting", "did you get",
        "are you mad", "did i do something", "ignoring me", "check your phone", "respond faster",
        "need to know", "reassurance", "validation", "double text"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(read|saw)\\s+(my|the)\\s+(message|text)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "\\b(why\\s+haven't|still\\s+waiting|did\\s+you\\s+get)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "\\b(are\\s+you\\s+mad|did\\s+i\\s+do\\s+something|ignoring\\s+me)\\b",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "\\b(need\\s+to\\s+know|reassurance|validation)\\b",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "caution": 0.25,
        "alert": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.3,
          "alert": 0.2
        },
        "avoidant": {
          "clear": -0.1,
          "caution": 0.1
        },
        "disorganized": {
          "caution": 0.15,
          "alert": 0.1
        },
        "secure": {
          "clear": 0.1
        }
      }
    },
    {
      "id": "CTX_AVOIDANT_PATTERN",
      "context": "avoidant.pattern",
      "description": "Avoidant attachment communication patterns and behaviors",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 28,
      "scope": "message",
      "clearGate": {
        "mode": "promote",
        "strength": 0.8
      },
      "toneCues": [
        "need space", "too much", "overwhelmed", "step back", "alone time",
        "processing", "not now", "later", "busy", "fine",
        "whatever", "doesn't matter", "independence", "boundaries"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(need\\s+space|alone\\s+time|step\\s+back)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "\\b(too\\s+much|overwhelmed|processing)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "\\b(not\\s+now|later|busy)\\b",
          "weight": 0.2,
          "type": "regex"
        },
        {
          "pattern": "\\b(fine|whatever|doesn't\\s+matter)\\b",
          "weight": 0.15,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.2,
        "caution": 0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.2,
          "alert": 0.1
        },
        "avoidant": {
          "clear": 0.25,
          "caution": -0.05
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      }
    },
    {
      "id": "CTX_DISORGANIZED_PATTERN",
      "context": "disorganized.pattern",
      "description": "Disorganized attachment communication patterns and behaviors",
      "priority": 5,
      "polarity": "escalatory",
      "windowTokens": 36,
      "scope": "message",
      "clearGate": {
        "mode": "dampen",
        "strength": 0.6
      },
      "toneCues": [
        "don't know", "confused", "mixed signals", "contradictory", "push and pull",
        "come here go away", "unstable", "chaotic", "unpredictable", "inconsistent",
        "hot and cold", "flip flop"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(don't\\s+know|confused|mixed\\s+signals)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "\\b(contradictory|push\\s+and\\s+pull|come\\s+here\\s+go\\s+away)\\b",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "\\b(unstable|chaotic|unpredictable|inconsistent)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "\\b(hot\\s+and\\s+cold|flip\\s+flop)\\b",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "alert": 0.3,
        "caution": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.15,
          "caution": 0.2
        },
        "avoidant": {
          "caution": 0.15
        },
        "disorganized": {
          "alert": 0.35,
          "caution": 0.25
        },
        "secure": {
          "clear": 0.05
        }
      }
    },
    {
      "id": "CTX_SECURE_PATTERN",
      "context": "secure.pattern",
      "description": "Secure attachment communication patterns and behaviors",
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 24,
      "scope": "message",
      "clearGate": {
        "mode": "promote",
        "strength": 1
      },
      "toneCues": [
        "i feel", "can we talk", "i understand", "let's work", "together",
        "compromise", "both sides", "your perspective", "i hear you", "healthy communication",
        "direct", "honest"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(i\\s+feel|can\\s+we\\s+talk|i\\s+understand)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "\\b(let's\\s+work|together|compromise)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "\\b(both\\s+sides|your\\s+perspective|i\\s+hear\\s+you)\\b",
          "weight": 0.35,
          "type": "regex"
        },
        {
          "pattern": "\\b(direct|honest|healthy\\s+communication)\\b",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.35,
        "caution": -0.1
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.2,
          "caution": -0.05
        },
        "avoidant": {
          "clear": 0.2
        },
        "disorganized": {
          "clear": 0.15,
          "caution": -0.05
        },
        "secure": {
          "clear": 0.4
        }
      }
    },
    {
      "id": "CTX_CO_PARENTING",
      "context": "co_parenting",
      "description": "Communication about shared parenting responsibilities",
      "priority": 3,
      "polarity": "neutral",
      "windowTokens": 35,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "the kids", "our child", "pickup", "drop off", "school",
        "custody", "visitation", "childcare", "parenting time", "our son",
        "our daughter", "bedtime", "homework", "activities", "sports",
        "doctor appointment", "school event", "babysitter", "nanny", "daycare",
        "after school"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(pickup|drop off|drop-off)\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "\\b(custody|visitation|parenting time)\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "the (kids?|child|son|daughter)",
          "weight": 0.2,
          "type": "regex"
        },
        {
          "pattern": "school (event|pickup|drop)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.2,
        "caution": 0.05
      },
      "severity": {
        "clear": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1,
          "clear": 0.05
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "caution": 0.15,
          "clear": 0.05
        },
        "secure": {
          "clear": 0.2
        }
      }
    },
    {
      "id": "CTX_BOUNDARIES",
      "context": "boundaries",
      "description": "Setting limits and rules for respectful interaction",
      "priority": 4,
      "polarity": "neutral",
      "windowTokens": 30,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "my boundaries", "our boundaries", "respect boundaries", "healthy boundaries", "set boundaries",
        "boundary issues", "cross boundaries", "honor boundaries", "clear boundaries", "establish limits",
        "mutual respect", "personal limits", "comfort zones", "what's acceptable", "ground rules",
        "need space", "stop", "can’t", "can't", "cant",
        "not okay", "limit", "boundary", "respect", "not acceptable",
        "crossed the line", "this is my limit", "respect my boundary", "respect my space", "stop texting me",
        "do not contact", "that's not okay", "that’s not okay"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(respect|honor|cross) boundaries\\b",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "\\b(set|establish|clear) boundaries\\b",
          "weight": 0.23,
          "type": "regex"
        },
        {
          "pattern": "healthy boundaries",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "personal limits",
          "weight": 0.2,
          "type": "ngram"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.2,
        "caution": 0.1
      },
      "severity": {
        "clear": 0.15
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.15,
          "clear": 0.1
        },
        "avoidant": {
          "clear": 0.25
        },
        "disorganized": {
          "caution": 0.1,
          "clear": 0.15
        },
        "secure": {
          "clear": 0.3
        }
      }
    },
    {
      "id": "CTX_RELATIONSHIP_NURTURE",
      "context": "relationship_nurture",
      "description": "Efforts to strengthen and care for the relationship",
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 35,
      "clearGate": {
        "mode": "boost",
        "strength": 1.15
      },
      "toneCues": [
        "our relationship", "work on us", "strengthen our bond", "invest in us", "nurture this",
        "build together", "grow together", "relationship goals", "us first", "prioritize us",
        "quality time", "connection", "intimacy", "closeness", "deepen our relationship"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "\\b(work on|invest in|prioritize) us\\b",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(strengthen|nurture|deepen).*relationship",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(grow|build) together",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "quality time",
          "weight": 0.22,
          "type": "ngram"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.35,
        "caution": -0.05
      },
      "severity": {
        "clear": 0.3
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.25,
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "clear": 0.2,
          "caution": 0.05
        },
        "secure": {
          "clear": 0.4
        }
      }
    },
    {
      "id": "CTX_TRUST_BUILDING",
      "context": "trust_building",
      "description": "Efforts to build or rebuild trust in relationship",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.2
      },
      "toneCues": [
        "rebuild trust", "earn back", "regain trust", "trust process", "be transparent",
        "honest with you", "open book", "nothing to hide", "prove myself", "show you",
        "consistent", "reliability", "dependable", "trustworthy", "faith in us"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(rebuild|regain|earn back).*trust",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "be (transparent|honest)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(open book|nothing to hide)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(prove myself|show you)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.3,
        "caution": 0.05
      },
      "severity": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.2,
          "caution": 0.15
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "clear": 0.25,
          "caution": 0.1
        },
        "secure": {
          "clear": 0.35
        }
      }
    },
    {
      "id": "CTX_IMPULSE_CONTROL",
      "context": "impulse_control",
      "description": "Managing immediate reactive impulses",
      "priority": 5,
      "polarity": "deescalatory",
      "windowTokens": 25,
      "clearGate": {
        "mode": "boost",
        "strength": 1.15
      },
      "toneCues": [
        "stop myself", "hold back", "resist saying", "bite my tongue", "count to ten",
        "pause first", "think before", "catch myself", "hold my tongue", "resist the urge",
        "wait before", "not gonna react", "choosing not to", "restraining myself", "self-control",
        "impulse check"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(stop|catch) myself",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(hold|bite).*(tongue|back)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(resist|fight).*(urge|saying)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(pause|wait) (first|before)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.3,
        "caution": 0.1
      },
      "severity": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.2,
          "caution": 0.15
        },
        "avoidant": {
          "clear": 0.25
        },
        "disorganized": {
          "clear": 0.15,
          "caution": 0.2
        },
        "secure": {
          "clear": 0.35
        }
      }
    },
    {
      "id": "CTX_WITHDRAWAL_IMPULSE",
      "context": "withdrawal_impulse",
      "description": "Urge to shut down or pull away from interaction",
      "priority": 4,
      "polarity": "neutral",
      "windowTokens": 25,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "shut down", "pull away", "want to hide", "close off", "retreat",
        "withdraw", "go silent", "stop talking", "done talking", "can't do this",
        "need space", "walking away", "shutting off", "going quiet", "disconnect",
        "turtle up", "stone wall"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(shut down|close off)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(pull|walk) away",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(retreat|withdraw|disconnect)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(going|go) (quiet|silent)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "caution": 0.25,
        "alert": 0.1
      },
      "severity": {
        "caution": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "alert": 0.15,
          "caution": 0.2
        },
        "avoidant": {
          "caution": 0.35,
          "alert": 0.05
        },
        "disorganized": {
          "alert": 0.25,
          "caution": 0.15
        },
        "secure": {
          "clear": 0.15,
          "caution": 0.1
        }
      }
    },
    {
      "id": "CTX_OVERWHELM_GUARDRAIL",
      "context": "overwhelm_guardrail",
      "description": "Recognizing and managing emotional or cognitive overload",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.1
      },
      "toneCues": [
        "too much", "overwhelmed", "can't process", "brain fog", "overloaded",
        "capacity", "maxed out", "at my limit", "flooded", "information overload",
        "cognitive load", "mental bandwidth", "need to slow down", "processing speed", "bandwidth issue",
        "system overload"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "too much",
          "weight": 0.25,
          "type": "ngram"
        },
        {
          "pattern": "(overwhelmed|overloaded)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "(maxed out|at my limit)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(brain fog|flooded)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(bandwidth|capacity)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "caution": 0.25,
        "clear": 0.15
      },
      "severity": {
        "caution": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.3,
          "alert": 0.1
        },
        "avoidant": {
          "caution": 0.2,
          "clear": 0.05
        },
        "disorganized": {
          "caution": 0.35,
          "alert": 0.15
        },
        "secure": {
          "clear": 0.2,
          "caution": 0.1
        }
      }
    },
    {
      "id": "CTX_TONE_GUARDRAILS",
      "context": "tone_guardrails",
      "description": "Awareness and management of communication tone",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 25,
      "clearGate": {
        "mode": "boost",
        "strength": 1.2
      },
      "toneCues": [
        "tone check", "watch my tone", "sound harsh", "come across wrong", "didn't mean it that way",
        "soften my approach", "rephrase that", "tone down", "gentler way", "sound better",
        "harsh tone", "aggressive tone", "defensive tone", "check my delivery", "communication style"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "tone (check|down)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "watch my tone",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "(sound|come across) (harsh|wrong)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(soften|gentler)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "didn't mean.*that way",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.35,
        "caution": 0.05
      },
      "severity": {
        "clear": 0.3
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.25,
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "clear": 0.2,
          "caution": 0.15
        },
        "secure": {
          "clear": 0.4
        }
      }
    },
    {
      "id": "CTX_CLARITY",
      "context": "clarity",
      "description": "Seeking or providing clear understanding",
      "priority": 3,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.1
      },
      "toneCues": [
        "to be clear", "let me clarify", "make sure I understand", "crystal clear", "clear this up",
        "want to be precise", "exactly what I mean", "no confusion", "perfectly clear", "disambiguation",
        "spell it out", "break it down", "simplify", "make it plain", "clear as day"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "to be clear",
          "weight": 0.3,
          "type": "ngram"
        },
        {
          "pattern": "let me clarify",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "(crystal|perfectly) clear",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "make sure I understand",
          "weight": 0.23,
          "type": "ngram"
        },
        {
          "pattern": "(spell it out|break it down)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.3,
        "caution": 0.05
      },
      "severity": {
        "clear": 0.25
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.2,
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.25
        },
        "disorganized": {
          "clear": 0.15,
          "caution": 0.05
        },
        "secure": {
          "clear": 0.35
        }
      }
    },
    {
      "id": "CTX_BREVITY",
      "context": "brevity",
      "description": "Keeping communication concise and focused",
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 20,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "keep it short", "bottom line", "in brief", "long story short", "to summarize",
        "tldr", "quick question", "briefly", "short version", "cliff notes",
        "executive summary", "cut to the chase", "get to the point", "main thing"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(keep it short|bottom line)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "long story short",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "(briefly|tldr)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "(cut to|get to).*(chase|point)",
          "weight": 0.2,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.05
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "caution": 0.05
        },
        "secure": {
          "clear": 0.2
        }
      }
    },
    {
      "id": "CTX_TIMING",
      "context": "timing",
      "description": "Awareness of communication timing and appropriateness",
      "priority": 3,
      "polarity": "neutral",
      "windowTokens": 25,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "good time", "bad time", "right time", "wrong time", "timing",
        "when you're free", "better time", "convenient time", "later when", "not now",
        "right moment", "good moment", "appropriate time", "timing is off", "when works",
        "time sensitive"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(good|bad|right|wrong) time",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(better|convenient) time",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "when (you're|works)",
          "weight": 0.2,
          "type": "regex"
        },
        {
          "pattern": "(timing|moment)",
          "weight": 0.18,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.15,
        "caution": 0.05
      },
      "attachmentAdjustments": {
        "anxious": {
          "caution": 0.1,
          "clear": 0.05
        },
        "avoidant": {
          "clear": 0.1
        },
        "disorganized": {
          "caution": 0.1
        },
        "secure": {
          "clear": 0.15
        }
      }
    },
    {
      "id": "CTX_FORMAT_HYGIENE",
      "context": "format_hygiene",
      "description": "Attention to message structure and presentation",
      "priority": 2,
      "polarity": "neutral",
      "windowTokens": 25,
      "clearGate": {
        "mode": "neutral",
        "strength": 1
      },
      "toneCues": [
        "format", "structure", "organize", "bullet points", "numbered list",
        "easier to read", "clean this up", "reformat", "layout", "presentation",
        "readability", "digest", "wall of text", "break this up", "paragraph",
        "section"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(format|structure)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "(bullet|numbered|list)",
          "weight": 0.22,
          "type": "regex"
        },
        {
          "pattern": "easier to read",
          "weight": 0.28,
          "type": "ngram"
        },
        {
          "pattern": "wall of text",
          "weight": 0.3,
          "type": "ngram"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.2
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.05
        },
        "avoidant": {
          "clear": 0.15
        },
        "disorganized": {
          "clear": 0.1
        },
        "secure": {
          "clear": 0.2
        }
      }
    },
    {
      "id": "CTX_TONE_MANAGEMENT",
      "context": "tone_management",
      "description": "Active management of communication tone and style",
      "priority": 4,
      "polarity": "deescalatory",
      "windowTokens": 30,
      "clearGate": {
        "mode": "boost",
        "strength": 1.2
      },
      "toneCues": [
        "adjust my tone", "manage my delivery", "communication style", "how I'm saying", "way I'm coming across",
        "tone of voice", "delivery method", "approach adjustment", "style check", "message tone",
        "sound different", "phrase this better", "word choice", "communication approach"
      ],
      "toneCuesWeighted": [
        {
          "pattern": "(adjust|manage).*(tone|delivery)",
          "weight": 0.3,
          "type": "regex"
        },
        {
          "pattern": "communication (style|approach)",
          "weight": 0.25,
          "type": "regex"
        },
        {
          "pattern": "how I'm (saying|coming)",
          "weight": 0.28,
          "type": "regex"
        },
        {
          "pattern": "(phrase|word).*(better|different)",
          "weight": 0.22,
          "type": "regex"
        }
      ],
      "confidenceBoosts": {
        "clear": 0.35,
        "caution": 0.05
      },
      "severity": {
        "clear": 0.3
      },
      "attachmentAdjustments": {
        "anxious": {
          "clear": 0.25,
          "caution": 0.1
        },
        "avoidant": {
          "clear": 0.2
        },
        "disorganized": {
          "clear": 0.15,
          "caution": 0.15
        },
        "secure": {
          "clear": 0.4
        }
      }
    }
  ],
  "tests": {
    "notes": "Simple harness to guard against false-clear flips.",
    "cases": [
      {
        "text": "I’m done. You never listen. Stop twisting my words.",
        "expectUiTone": "alert",
        "reason": "Escalation + conflict outweigh any generic first-person tokens."
      },
      {
        "text": "I was wrong earlier — I’m sorry for snapping. Can we reset?",
        "expectUiTone": "clear",
        "reason": "Repair context promotes clear via phrase-level evidence."
      },
      {
        "text": "Ok. I get it. But you ALWAYS do this.",
        "expectUiTone": "alert",
        "reason": "Generic ‘ok’ ignored; ALWAYS + critique drives alert."
      },
      {
        "text": "We need to talk about pickup at 5 and the calendar move.",
        "expectUiTone": "clear",
        "reason": "Planning/Co-parenting logistics; no escalation present."
      },
      {
        "text": "lol that came out wrong — sorry about that",
        "expectUiTone": "clear",
        "reason": "Humor + repair de-escalate and promote clear."
      }
    ]
  }
}